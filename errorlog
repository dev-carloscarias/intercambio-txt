  // Actualizar el scrollbar cuando cambian los items filtrados o cuando se abre el dropdown
            useEffect(() => {
                if (!isOpen || !ps.current || !dropdownItemsWrapperRef.current) {
                    return;
                }

                // Función para actualizar el scrollbar después de que React haya renderizado
                const updateScrollbar = () => {
                    if (ps.current && dropdownItemsWrapperRef.current) {
                        // Forzar actualización del scrollbar
                        ps.current.update();
                        
                        // Usar requestAnimationFrame para asegurar que el DOM esté actualizado
                        requestAnimationFrame(() => {
                            if (ps.current) {
                                ps.current.update();
                            }
                        });
                    }
                };

                // Actualizar inmediatamente
                updateScrollbar();

                // Actualizar después de un pequeño delay para asegurar que el DOM esté completamente actualizado
                const timeoutId = setTimeout(() => {
                    updateScrollbar();
                }, 50);

                return () => {
                    clearTimeout(timeoutId);
                };
            }, [filteredItems, isOpen]);
